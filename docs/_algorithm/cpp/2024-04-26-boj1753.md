---
layout: default
title: (ê³¨ë“œ4) BOJ 1753ë²ˆ C++ í’€ì´
parent: ì•Œê³ ë¦¬ì¦˜ ì½”ë”©í…ŒìŠ¤íŠ¸ - C++
last_modified_date: 2024-04-26
---

# BOJ 1753ë²ˆ C++ í’€ì´

## ë¬¸ì œ

### [ìµœë‹¨ê²½ë¡œ](https://www.acmicpc.net/problem/1753){:target="_blank"}

> ë°©í–¥ê·¸ë˜í”„ê°€ ì£¼ì–´ì§€ë©´ ì£¼ì–´ì§„ ì‹œì‘ì ì—ì„œ ë‹¤ë¥¸ ëª¨ë“  ì •ì ìœ¼ë¡œì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤. ë‹¨, ëª¨ë“  ê°„ì„ ì˜ ê°€ì¤‘ì¹˜ëŠ” 10 ì´í•˜ì˜ ìì—°ìˆ˜ì´ë‹¤.

{: .highlight }
ì²«ì§¸ ì¤„ì— ì •ì ì˜ ê°œìˆ˜ Vì™€ ê°„ì„ ì˜ ê°œìˆ˜ Eê°€ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ V â‰¤ 20,000, 1 â‰¤ E â‰¤ 300,000) ëª¨ë“  ì •ì ì—ëŠ” 1ë¶€í„° Vê¹Œì§€ ë²ˆí˜¸ê°€ ë§¤ê²¨ì ¸ ìˆë‹¤ê³  ê°€ì •í•œë‹¤. ë‘˜ì§¸ ì¤„ì—ëŠ” ì‹œì‘ ì •ì ì˜ ë²ˆí˜¸ K(1 â‰¤ K â‰¤ V)ê°€ ì£¼ì–´ì§„ë‹¤. ì…‹ì§¸ ì¤„ë¶€í„° Eê°œì˜ ì¤„ì— ê±¸ì³ ê° ê°„ì„ ì„ ë‚˜íƒ€ë‚´ëŠ” ì„¸ ê°œì˜ ì •ìˆ˜ (u, v, w)ê°€ ìˆœì„œëŒ€ë¡œ ì£¼ì–´ì§„ë‹¤. ì´ëŠ” uì—ì„œ vë¡œ ê°€ëŠ” ê°€ì¤‘ì¹˜ wì¸ ê°„ì„ ì´ ì¡´ì¬í•œë‹¤ëŠ” ëœ»ì´ë‹¤. uì™€ vëŠ” ì„œë¡œ ë‹¤ë¥´ë©° wëŠ” 10 ì´í•˜ì˜ ìì—°ìˆ˜ì´ë‹¤. ì„œë¡œ ë‹¤ë¥¸ ë‘ ì •ì  ì‚¬ì´ì— ì—¬ëŸ¬ ê°œì˜ ê°„ì„ ì´ ì¡´ì¬í•  ìˆ˜ë„ ìˆìŒì— ìœ ì˜í•œë‹¤.

*ì…ë ¥*

```
5 6
1
5 1 1
1 2 2
1 3 3
2 3 4
2 4 5
3 4 6
```

*ì¶œë ¥*

```
0
2
3
7
INF
```

## í’€ì´

[ë‹¤ìµìŠ¤íŠ¸ë¼](/algorithm/note/2024-04-23-dijkstra){:target="_blank"} ì•Œê³ ë¦¬ì¦˜ì„ ì¨ì•¼ í•˜ëŠ” ë¬¸ì œ

**ë°œìƒí–ˆë˜ ì˜¤ë¥˜**

1. [ëŸ°íƒ€ì„ì—ëŸ¬](https://www.acmicpc.net/source/77483008){:target="_blank"}

    ```cpp
    // ê°„ì„  ì •ë³´ ì¸ì ‘ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”
    for(int i = 0; i < E; i++) {
      int u, v, w;
      cin >> u >> v >> w;
      // wê°€ ì‘ì€ ìˆœì„œëŒ€ë¡œ
      int j;
      for(j = 0; j < graph[u].size(); j++) {
        if(graph[u][j].second > w) {
          // j-1ë²ˆì§¸ ìë¦¬ì— ìŒì„ ë¼ì›Œ ë„£ì–´ì•¼ í•¨
          graph[u].insert(graph[u].begin()+j-1, make_pair(v, w));
        }
      }
      if(j == graph[u].size()) {
        // ëê¹Œì§€ ì™”ë‹¤ë©´ wê°€ ê°€ì¥ í° ê²ƒ
        graph[u].push_back(make_pair(v, w));
      }
    }
    ```

    ì²˜ìŒì— ì¸ì ‘ë¦¬ìŠ¤íŠ¸ë¥¼ ì´ˆê¸°í™”í•  ë•Œ ì–µì§€ë¡œ wê°€ ê°€ì¥ ì‘ì€ ìˆœì„œëŒ€ë¡œ ì •ë ¬ì„ í–ˆë‹¤.
    
    ì—¬ê¸°ì„œ `graph[u].begin()+j-1` ì´ ë¶€ë¶„ì—ì„œ ìŒìˆ˜ê°€ ë‚˜ì˜¤ë©´ì„œ ë©”ëª¨ë¦¬ ì´ˆê³¼ê°€ ë°œìƒí•˜ì—¬ [ì½”ë“œë¥¼ ìˆ˜ì •](https://www.acmicpc.net/source/77483015){:target="_blank"}í–ˆì§€ë§Œ ì´ë ‡ê²Œ ì •ë ¬í•˜ëŠ” ê±´ ì˜ë¯¸ê°€ ì—†ë‹¤

    ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ìš°ì„ ìˆœìœ„ í(pq)ë¥¼ ì“¸ ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤.

2. [4%ì—ì„œ ë©”ëª¨ë¦¬ ì´ˆê³¼](https://www.acmicpc.net/source/77483079){:target="_blank"}

    1ë²ˆì˜ ì •ë ¬ì—ì„œ ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤. ì •ë ¬ì„ ì œê±°í•˜ë‹ˆ í•´ê²°ì´ ë˜ì—ˆë‹¤.

3. [ì‹œê°„ì´ˆê³¼](https://www.acmicpc.net/source/77483361){:target="_blank"}

    ë¨¼ì € cin, cout ì„¤ì •ì„ í•´ì¤€ë‹¤. endlë„ ëŠë¦¬ë‹ˆ `\n`ì„ ì¨ì¤€ë‹¤.

    ```cpp
    int main() {
      ios::sync_with_stdio(false);
      cin.tie(NULL);
      cout.tie(NULL);
      ...
    ```

    ```cpp
    if(d == INT_MAX) cout << "INF\n";
    else cout << d << "\n";
    ```

    ê·¸ ë‹¤ìŒì—ëŠ” ì›ë˜ ì“°ë˜ pq ì •ë ¬ì„ ì—†ì•´ë‹¤. pq ì •ë ¬ì„ ì‚¬ìš©í•œ ì´ìœ ëŠ” ì—£ì§€ë¥¼ ì €ì¥í•  ê±´ë°, ì—¬ê¸°ì„œ second ê°’(ê°€ì¤‘ì¹˜)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ì´ ë˜ì–´ì•¼í•˜ê¸° ë•Œë¬¸ì´ë‹¤.
    
    pqì˜ ê¸°ë³¸ ì •ë ¬ ì„±ì§ˆì¸ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ì„ í™œìš©í•˜ë©´ ë¹¨ë¼ì§„ë‹¤.

    ```cpp
    // ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ ìˆ˜í–‰
    priority_queue<pair<int, int>, vector<pair<int, int>>, comp> pq; // ìµœì†Œê°’ ë…¸ë“œ ì €ì¥
    pq.push(make_pair(K, 0));
    while(!pq.empty()) {
      pair<int, int> target = pq.top();
      pq.pop();
      
      if(target.second > dist[target.first]) continue;
      
      for(pair<int, int> e : graph[target.first]) {
        int distance = dist[target.first] + e.second;
        if(distance < dist[e.first]) {
          dist[e.first] = distance;
          pq.push(e);
        }
      }
    }
    ```

    ì´ ì½”ë“œë¥¼

    ```cpp
    // ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ ìˆ˜í–‰
    priority_queue<pair<int, int>> pq; // ìµœì†Œê°’ ë…¸ë“œ ì €ì¥
    pq.push(make_pair(0, K));
    while(!pq.empty()) {
      pair<int, int> target = pq.top();
      int distance = -target.first;
      int node = target.second;
      pq.pop();
      
      if(distance > dist[node]) continue;

      for(pair<int, int> e : graph[node]) {
        int distance = dist[node] + e.second;
        if(distance < dist[e.first]) {
          dist[e.first] = distance;
          pq.push(make_pair(-e.second, e.first));
        }
      }
    }
    ```

    ì´ë ‡ê²Œ ìˆ˜ì •í•œë‹¤.

    ì—¬ê¸°ì„œ ëë‚˜ì§€ ì•Šì•˜ë‹¤.. ì´ë ‡ê²Œ ë˜ë©´ *pqì—ëŠ” ì—£ì§€ë¥¼ ë„£ìœ¼ë©´ ì•ˆ ë˜ê³ , ì´ì „ê¹Œì§€ ìµœë‹¨ê±°ë¦¬ì™€ ë‹¤ìŒ ë…¸ë“œë¥¼ ê°€ì§€ëŠ” ìŒì„ ë„£ì–´ì•¼ í•œë‹¤.*

    ```cpp
    // ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ ìˆ˜í–‰
    priority_queue<pair<int, int>> pq; // ìµœì†Œê°’ ë…¸ë“œ ì €ì¥
    pq.push(make_pair(0, K));
    while(!pq.empty()) {
      pair<int, int> target = pq.top();
      int distance = -target.first;
      int node = target.second;
      pq.pop();
      
      if(distance > dist[node]) continue;

      for(pair<int, int> e : graph[node]) {
        int distance = dist[node] + e.second;
        if(distance < dist[e.first]) {
          dist[e.first] = distance;
          pq.push(make_pair(-dist[e.first], e.first)); // ì´ ë¶€ë¶„ì´ ìˆ˜ì •ë˜ì–´ì•¼ í•œë‹¤.
        }
      }
    }
    ```

## ê²°ê³¼ ì½”ë“œ

```cpp
#include <iostream>
#include <climits>
#include <vector>
#include <queue>
using namespace std;

void printDist(vector<int> dist);

int main() {
  ios::sync_with_stdio(false);
  cin.tie(NULL);
  cout.tie(NULL);

  int V, E, K; // ì •ì , ê°„ì„ , ì‹œì‘ë…¸ë“œ
  cin >> V >> E >> K;

  vector<int> dist(V+1, INT_MAX); // ìµœë‹¨ê±°ë¦¬ë°°ì—´ ì´ˆê¸°í™”
  vector<vector<pair<int, int>>> graph; // ê·¸ë˜í”„ ì¸ì ‘ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”
  graph.assign(V+1, vector<pair<int,int>>());

  dist[K] = 0; // ì‹œì‘ì •ì  ê±°ë¦¬ 0ìœ¼ë¡œ

  // ê°„ì„  ì •ë³´ ì¸ì ‘ë¦¬ìŠ¤íŠ¸ ì´ˆê¸°í™”
  for(int i = 0; i < E; i++) {
    int u, v, w;
    cin >> u >> v >> w;
    graph[u].push_back(make_pair(v, w)); // ì €ì¥ì€ ì…ë ¥ ë°›ì€ ê·¸ëŒ€ë¡œ í•œë‹¤.
  }

  // ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ ìˆ˜í–‰
  priority_queue<pair<int, int>> pq; // ìµœì†Œê°’ ë…¸ë“œ ì €ì¥
  pq.push(make_pair(0, K)); // (ì§ì „ê¹Œì§€ ìµœë‹¨ê±°ë¦¬, ì •ì ) ì§
  while(!pq.empty()) {
    pair<int, int> target = pq.top();
    int distance = -target.first; // pqê°€ ë‚´ë¦¼ì°¨ìˆœì´ê¸° ë•Œë¬¸ì— ìŒìˆ˜ë¡œ ë°”ê¿”ì¤€ë‹¤. ì—¬ê¸°ì„œ firstëŠ” ì§ì „ê¹Œì§€ ê±°ë¦¬ì´ë‹¤.
    int node = target.second;
    pq.pop();
    
    if(distance > dist[node]) continue;

    for(pair<int, int> e : graph[node]) {
      int distance = dist[node] + e.second;
      if(distance < dist[e.first]) {
        dist[e.first] = distance;
        // pq.push(make_pair(-e.second, e.first)); // pqì— ë“¤ì–´ê°€ì•¼í•˜ëŠ” ê±´ ì—£ì§€ê°€ ì•„ë‹ˆë‹¤.
        pq.push(make_pair(-dist[e.first], e.first));
      }
    }
  }

  printDist(dist);
}

void printDist(vector<int> dist) {
  for(int i = 1; i < dist.size(); i++) {
    int d = dist[i];
    if(d == INT_MAX) cout << "INF\n";
    else cout << d << "\n";
  }
}
```

![](/attachment/2024/04/26/boj1753.png)

ğŸ˜®â€ğŸ’¨ ì´í‹€ ê±¸ë¦¼